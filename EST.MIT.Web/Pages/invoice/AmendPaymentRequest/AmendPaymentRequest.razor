@page "/invoice/amend-payment-request/{PaymentRequestId}"
@using EST.MIT.Web.Shared.Components.ReadonlyInvoicePR
@using Helpers

@if(!paymentRequest.IsNull())
{
    <section class="govuk-width-container govuk-!-padding-top-3">
        <a class="govuk-back-link" href="/invoice/summary/@invoice.SchemeType/@invoice.Id">Back</a>
        <h1 class="govuk-heading-l">
            Amend Payment Request
        </h1>
    </section>

    <section class="govuk-width-container govuk-!-padding-top-3">

        <button id="update-payment-request" class="govuk-button" @onclick="UpdatePaymentRequest">
            Update Payment Request
        </button>

        <ReadonlyInvoicePR PaymentRequest="@paymentRequest" />

    </section>

    <section class="govuk-width-container">
        <button id="add-invoice-line" class="govuk-button" @onclick="AddInvoiceLine">Add Invoice Line</button>

        <table class="govuk-table">
            <thead class="govuk-table__head">
                <tr class="govuk-table__row">
                    <th scope="col" class="govuk-table__header">Scheme Code</th>
                    <th scope="col" class="govuk-table__header">Delivery Body</th>
                    <th scope="col" class="govuk-table__header">Line Value</th>
                    <th scope="col" class="govuk-table__header govuk-!-width-one-half">Description</th>
                </tr>
            </thead>
            <tbody class="govuk-table__body">
                @foreach (var line in paymentRequest.InvoiceLines)
                {
                    <tr class="govuk-table__row">
                        <td class="govuk-table__cell">@line.SchemeCode</td>
                        <td class="govuk-table__cell">@line.DeliveryBody</td>
                        <td class="govuk-table__cell">@line.Value</td>
                        <td class="govuk-table__cell">@line.Description</td>
                    </tr>
                }
            </tbody>
        </table>

    </section>

}